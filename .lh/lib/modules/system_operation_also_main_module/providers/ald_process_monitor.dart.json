{
    "sourceFile": "lib/modules/system_operation_also_main_module/providers/ald_process_monitor.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1726318174999,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1726318174999,
            "name": "Commit-0",
            "content": "import '../providers/recipe_provider.dart';\r\nimport 'package:flutter/material.dart';\r\nimport 'package:provider/provider.dart';\r\nimport '../providers/operation_experiment_planner_provider.dart';\r\nimport '../providers/alarm_provider.dart';\r\nimport '../widgets/parameter_display.dart';\r\nimport '../widgets/recipe_control.dart';\r\nimport '../widgets/alarm_display.dart';\r\nimport '../widgets/data_visualization.dart';\r\nimport '../widgets/system_diagram.dart';\r\nimport '../widgets/component_details_dialog.dart';\r\n\r\n\r\nclass MainDashboard extends StatelessWidget {\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return Scaffold(\r\n      appBar: AppBar(\r\n        title: Text('ALD Process Monitor'),\r\n        actions: [\r\n          IconButton(\r\n            icon: Icon(Icons.help_outline),\r\n            onPressed: () {\r\n              showDialog(\r\n                context: context,\r\n                builder: (BuildContext context) {\r\n                  return AlertDialog(\r\n                    title: Text('Help'),\r\n                    content: Text('This is the ALD Process Monitor. Click on components in the system diagram for detailed information and controls.'),\r\n                    actions: [\r\n                      TextButton(\r\n                        child: Text('Close'),\r\n                        onPressed: () {\r\n                          Navigator.of(context).pop();\r\n                        },\r\n                      ),\r\n                    ],\r\n                  );\r\n                },\r\n              );\r\n            },\r\n          ),\r\n        ],\r\n      ),\r\n      body: SafeArea(\r\n        child: Padding(\r\n          padding: const EdgeInsets.all(16.0),\r\n          child: Column(\r\n            crossAxisAlignment: CrossAxisAlignment.start,\r\n            children: [\r\n              Expanded(\r\n                flex: 3,\r\n                child: Row(\r\n                  crossAxisAlignment: CrossAxisAlignment.start,\r\n                  children: [\r\n                    Expanded(\r\n                      flex: 2,\r\n                      child: SystemDiagram(\r\n                      ),\r\n                    ),\r\n                    SizedBox(width: 16),\r\n                    Expanded(\r\n                      flex: 1,\r\n                      child: ParameterDisplay(),\r\n                    ),\r\n                  ],\r\n                ),\r\n              ),\r\n              SizedBox(height: 16),\r\n              Expanded(\r\n                flex: 2,\r\n                child: Row(\r\n                  crossAxisAlignment: CrossAxisAlignment.start,\r\n                  children: [\r\n                    Expanded(\r\n                      flex: 2,\r\n                      child: RecipeControl(onStartRecipe: (Recipe ) {  },),\r\n                    ),\r\n                    SizedBox(width: 16),\r\n                    Expanded(\r\n                      flex: 1,\r\n                      child: AlarmDisplay(),\r\n                    ),\r\n                  ],\r\n                ),\r\n              ),\r\n              SizedBox(height: 16),\r\n              Expanded(\r\n                flex: 2,\r\n                child: DataVisualization(),\r\n              ),\r\n            ],\r\n          ),\r\n        ),\r\n      ),\r\n      floatingActionButton: FloatingActionButton(\r\n        child: Icon(Icons.stop),\r\n        backgroundColor: Colors.red,\r\n        onPressed: () {\r\n          // Implement emergency stop functionality\r\n          Provider.of<SystemStateProvider>(context, listen: false).emergencyStop();\r\n          Provider.of<RecipeProvider>(context, listen: false).stopRecipe();\r\n          Provider.of<AlarmProvider>(context, listen: false).addAlarm(\r\n            'Emergency stop activated',\r\n            AlarmSeverity.critical,\r\n          );\r\n          ScaffoldMessenger.of(context).showSnackBar(\r\n            SnackBar(\r\n              content: Text('Emergency Stop Activated!'),\r\n              backgroundColor: Colors.red,\r\n              duration: Duration(seconds: 5),\r\n            ),\r\n          );\r\n        },\r\n      ),\r\n    );\r\n  }\r\n}"
        }
    ]
}